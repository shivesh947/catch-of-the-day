(this.webpackJsonpreactbasic=this.webpackJsonpreactbasic||[]).push([[0],{32:function(e,t,a){e.exports=a(61)},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(28),c=a.n(s),i=(a(37),a(23)),l=a(3),o=a(5),p=a(6),u=a(8),h=a(7),d=(a(38),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).myInput=n.a.createRef(),e.goToStore=function(t){t.preventDefault();var a=e.myInput.current.value;e.props.history.push("./store/".concat(a))},e}return Object(p.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"storewrap"},n.a.createElement("form",{onSubmit:this.goToStore,className:"storewrap__form"},n.a.createElement("h2",null,"PLEASE ENTER YOUR A STORE"),n.a.createElement("input",{type:"text",required:!0,value:"defeated-worried-elves",ref:this.myInput,className:"form__inputbox"}),n.a.createElement("button",{type:"submit",className:"form__button"},"Visit Store ->")))}}]),a}(r.Component)),m=a(16),f=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",{style:{textAlign:"center"}},this.props.title))}}]),a}(r.Component),v=(a(39),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).renderOrder=function(t){var a=e.props.fishes[t],r=e.props.order[t],s=a&&"available"===a.status;return a?s?n.a.createElement("li",{key:t},n.a.createElement("div",{className:"orderwrap__div"},n.a.createElement("span",{className:"orderwrap__count"},r," lbs"),n.a.createElement("span",{className:"orderwrap__name"},a.name," "),n.a.createElement("span",{className:"orderwrap__price"},r*a.price))):n.a.createElement("li",{key:t},"Sorry ",a?a.name:"fish"," is no longer available"):null},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.order),a=t.reduce((function(t,a){var r=e.props.fishes[a],n=e.props.order[a];return r&&"available"===r.status?t+n*r.price:t}),0);return n.a.createElement("div",{className:"orderwrap"},n.a.createElement("h2",{className:"orderwrap__heading"},"Order"),n.a.createElement("ul",{className:"orderwrap__list"},t.map(this.renderOrder)),n.a.createElement("div",{className:"orderwrap__total"},"Total : ",n.a.createElement("h4",null,a)))}}]),a}(r.Component)),b=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).nameRef=n.a.createRef(),e.priceRef=n.a.createRef(),e.statusRef=n.a.createRef(),e.descRef=n.a.createRef(),e.imageRef=n.a.createRef(),e.createFish=function(t){t.preventDefault();var a={name:e.nameRef.current.value,price:e.priceRef.current.value,status:e.statusRef.current.value,desc:e.descRef.current.value,image:e.imageRef.current.value};e.props.addFish(a),t.currentTarget.reset()},e}return Object(p.a)(a,[{key:"render",value:function(){return n.a.createElement("form",{className:"fish-edit",onSubmit:this.createFish},n.a.createElement("input",{type:"text",placeholder:"Name",name:"name",ref:this.nameRef}),n.a.createElement("input",{type:"text",placeholder:"Price",name:"price",ref:this.priceRef}),n.a.createElement("select",{placeholder:"Status",ref:this.statusRef},n.a.createElement("option",{value:"available"},"Fresh!"),n.a.createElement("option",{value:"unavailable"},"Sold Out!")),n.a.createElement("textarea",{name:"desc",placeholder:"Desc",ref:this.descRef}),n.a.createElement("input",{type:"text",placeholder:"Image",name:"image",ref:this.imageRef}),n.a.createElement("input",{type:"submit",value:"+ Add Fish"}))}}]),a}(r.Component),E=a(21),y=(a(40),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).handleChange=function(t){var a=Object(m.a)(Object(m.a)({},e.props.fish),{},Object(E.a)({},t.currentTarget.name,t.currentTarget.value));console.log(a),e.props.updateFish(e.props.index,a)},e}return Object(p.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"fish__edit"},n.a.createElement("input",{type:"text",placeholder:"Name",onChange:this.handleChange,name:"name",defaultValue:this.props.fish.name}),n.a.createElement("input",{type:"text",placeholder:"Price",onChange:this.handleChange,name:"price",defaultValue:this.props.fish.price}),n.a.createElement("select",{onChange:this.handleChange,placeholder:"Status",defaultValue:this.props.fish.status,name:"status"},n.a.createElement("option",{value:"available"},"Fresh!"),n.a.createElement("option",{value:"unavailable"},"Sold Out!")),n.a.createElement("textarea",{onChange:this.handleChange,name:"desc",placeholder:"Desc",defaultValue:this.props.fish.desc}),n.a.createElement("input",{type:"text",placeholder:"Image",onChange:this.handleChange,name:"image",defaultValue:this.props.fish.image}),n.a.createElement("hr",null))}}]),a}(r.Component)),O=(a(41),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"inventory"},n.a.createElement("h2",null,"Inventory"),n.a.createElement(b,{addFish:this.props.addFish}),n.a.createElement("button",{onClick:this.props.loadSampleFishes},"Load Sample Fishes"),n.a.createElement("h3",null,"Data"),Object.keys(this.props.fishes).map((function(t){return n.a.createElement(y,{updateFish:e.props.updateFish,fish:e.props.fishes[t],index:t,key:t})})))}}]),a}(r.Component)),g=(a(42),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).handleClick=function(){e.props.addToOrder(e.props.index)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.fish.image,a=this.props.fish.name,r=this.props.fish.desc,s=this.props.fish.price,c=(this.props.fish.status,"available"===this.props.fish.status);return n.a.createElement("div",{className:"singlefish",style:{display:"flex"}},n.a.createElement("img",{src:t,alt:a}),n.a.createElement("div",{style:{position:"relative"}},n.a.createElement("h2",null,a),n.a.createElement("p",null,r),n.a.createElement("button",{className:c?"Add":"Soldout",disabled:!c,onClick:function(){return e.handleClick()}},c?"Add to Cart":"Sold out!")),n.a.createElement("p",null,s))}}]),a}(r.Component)),j=(a(43),a(29)),S=a.n(j),C=a(30),k=a.n(C).a.initializeApp({apiKey:"AIzaSyCGBDcdtd_ybc8DoMUUnA31yCGw2iMpDZ0",authDomain:"catch-of-the-day-99d0d.firebaseapp.com",databaseURL:"https://catch-of-the-day-99d0d.firebaseio.com",projectId:"catch-of-the-day-99d0d",storageBucket:"catch-of-the-day-99d0d.appspot.com",messagingSenderId:"365257701202",appId:"1:365257701202:web:4c40a8ab93ab1c1db1ac8b"}),R=S.a.createClass(k.database()),N=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={fishes:{},order:{}},e.ref="",e.addFish=function(t){var a=Object(m.a)({},e.state.fishes);a["fish".concat(Date.now())]=t,e.setState({fishes:a}),console.log(e.state.fishes)},e.loadSampleFishes=function(){alert("loding sample")},e.addToOrder=function(t){var a=Object(m.a)({},e.state.order);a[t]=a[t]+1||1,e.setState({order:a})},e.updateFish=function(t,a){var r=Object(m.a)({},e.state.fishes);r[t]=a,e.setState({fishes:r})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params,t=localStorage.getItem(this.props.match.params.storeId);t&&this.setState({order:JSON.parse(t)}),this.ref=R.syncState("".concat(e.storeId,"/fishes"),{context:this,state:"fishes"})}},{key:"componentWillMount",value:function(){R.removeBinding(this.ref)}},{key:"componentDidUpdate",value:function(){console.log(this.state.order),localStorage.setItem(this.props.match.params.storeId,JSON.stringify(this.state.order)),console.log("It updated!!")}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{id:"mainwrap"},n.a.createElement("div",{id:"head"},n.a.createElement(f,{title:this.props.match.params.storeId}),n.a.createElement("ul",{className:"fishes"},Object.keys(this.state.fishes).map((function(t,a){return n.a.createElement(g,{fish:e.state.fishes[t],key:a,index:t,addToOrder:e.addToOrder})})))),n.a.createElement("div",{id:"order"},n.a.createElement(v,{fishes:this.state.fishes,order:this.state.order})),n.a.createElement("div",{id:"inventory"},n.a.createElement(O,{updateFish:this.updateFish,addFish:this.addFish,loadSampleFishes:this.loadSampleFishes,fishes:this.state.fishes})))}}]),a}(r.Component),w=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,"Notfound")}}]),a}(r.Component),_=function(e){return n.a.createElement(i.a,null,n.a.createElement(l.c,null,n.a.createElement(l.a,{exact:!0,path:"/",component:d}),n.a.createElement(l.a,{exact:!0,path:"/store/:storeId",component:N}),n.a.createElement(l.a,{component:w})))};c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(_,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.b51a7e3d.chunk.js.map